test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01)) %>%
select(month, hrmatched, matched) %>%
unique()
test
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
unique()
test
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "% Matched",
hrmatched = "% High Risk Matched"
month = "Month"
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "Matched",
hrmatched = "High Risk Matched"
month = "Month"
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "Matched",
hrmatched = "High Risk Matched",
month = "Month"
)
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "Matched",
hrmatched = "High Risk Matched",
month = "Month"
)
test
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.AppointmentTime, "%m"), year = format(Tracking.AppointmentTime, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
ungroup() %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "Matched",
hrmatched = "High Risk Matched",
month = "Month"
)
test
# Enter only code here.
pilotdata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("10-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston") %>%
mutate(PrePost = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("20-07-2022", "%d-%m-%Y")),1,0))
table(pilotdata$PrePost)
# Enter only code here.
pilotdata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("10-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston") %>%
mutate(Pre = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("20-07-2022", "%d-%m-%Y")),1,0))
table(pilotdata$Pre)
# Enter only code here.
pilotdata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("10-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston") %>%
mutate(Pre = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("20-07-2022", "%d-%m-%Y")),1,0))
View(pilotdata)
View(pilotdata)
# Enter only code here.
pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
group_by(Pre) %>%
summarize(mean = mean(Matched01),sd = sd(Matched01))
# Enter only code here.
pilotdata <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
group_by(Pre) %>%
summarize(mean = mean(Matched01),sd = sd(Matched01))
summary(pilotdata$Matched01)
# Enter only code here.
pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
group_by(Pre) %>%
summarize(mean = mean(Matched01),sd = sd(Matched01))
# Enter only code here.
pilotdata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("10-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston") %>%
mutate(Pre = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("01-07-2022", "%d-%m-%Y"), as.Date("20-07-2022", "%d-%m-%Y")),1,0))
# Enter only code here.
pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
group_by(Pre) %>%
summarize(mean = mean(Matched01),sd = sd(Matched01))
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
group_by(Pre) %>%
summarize(mean = mean(Matched01),sd = sd(Matched01))
View(ttest)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre = 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre = 0, Matched01, NA))
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA))
View(ttest)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA))
t.test(PreMatched ~ PostMatched, data = ttest, var.equal = FALSE)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA)) %>%
select(PreMatched, PostMatched)
t.test(PreMatched ~ PostMatched, data = ttest, var.equal = FALSE)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA)) %>%
select(PreMatched, PostMatched)
t.test(PreMatched,PostMatched, data = ttest, var.equal = FALSE)
View(ttest)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA)) %>%
select(PreMatched, PostMatched)
t.test(PreMatched,PostMatched, data = ttest, var.equal = FALSE)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA)) %>%
select(PreMatched, PostMatched)
t.test(ttest$PreMatched,ttest$PostMatched, var.equal = FALSE)
# Enter only code here.
ttest <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(PreMatched = ifelse(Pre == 1, Matched01, NA)) %>%
mutate(PostMatched = ifelse(Pre == 0, Matched01, NA)) %>%
select(PreMatched, PostMatched)
t.test(ttest$PreMatched,ttest$PostMatched, var.equal = FALSE)
# Enter only code here.
pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
lm(Matched01 ~ Pre)
# Enter only code here.
pilotdata <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0))
lm(Matched01 ~ Pre, pilotdata)
# Enter only code here.
pilotdata <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0))
model <- lm(Matched01 ~ Pre, pilotdata)
model
# Enter only code here.
pilotdata <- pilotdata %>%
mutate(Matched01 = ifelse(Matched,1,0))
model <- lm(Matched01 ~ Pre, pilotdata)
summary(model)
allcitiespilot <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("21-07-2022", "%d-%m-%Y"), as.Date("31-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation != "Houston")
allcitiespilot <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("21-07-2022", "%d-%m-%Y"), as.Date("31-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation != "Houston") %>%
mutate(Pre = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("21-07-2022", "%d-%m-%Y"), as.Date("03-08-2022", "%d-%m-%Y")),1,0))
table(allcitiespilot$Pre)
allcitiespilot <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("21-07-2022", "%d-%m-%Y"), as.Date("31-08-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation != "Houston") %>%
mutate(Post = ifelse(between(lubridate::date(Tracking.BookingCreated), as.Date("21-07-2022", "%d-%m-%Y"), as.Date("03-08-2022", "%d-%m-%Y")),1,0))
View(pilotdata)
View(baselinedata)
# Enter only code here.
test <- baselinedata %>%
mutate(month = format(Tracking.BookingCreated, "%m"), year = format(Tracking.BookingCreated, "%Y")) %>%
mutate(Matched01 = ifelse(Matched,1,0)) %>%
mutate(HRMatched01 = ifelse(Matched_HighRisk,1,0)) %>%
group_by(month) %>%
mutate(matched = mean(Matched01)) %>%
mutate(hrmatched = mean(HRMatched01, na.rm = TRUE)) %>%
select(month, hrmatched, matched) %>%
ungroup() %>%
unique() %>%
gt() %>%
tab_header(
title = "Month-Wise Trends",
) %>%
cols_label(
matched = "Matched",
hrmatched = "High Risk Matched",
month = "Month"
)
test
# Enter only code here.
steps <- read_csv("Steps.csv")
bt <- balance_table(steps,"treatment")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(options(width = 60))
knitr::opts_chunk$set(class.output = "bg-warning")
packages <- c('haven','dplyr', 'ggplot2', 'reshape2', 'tidyverse', 'pracma',
'lubridate', 'scales', 'ggthemes', 'gt','RCT')
to_install <- packages[!(packages %in% installed.packages()[,"Package"])]
if(length(to_install)>0) install.packages(to_install,
repos='http://cran.us.r-project.org')
lapply(packages, require, character.only=TRUE)
# Enter only code here.
steps <- read_csv("Steps.csv")
bt <- balance_table(steps,"treatment")
names(bt) <- c("Variable","Control Group Mean","Treatment Group Mean","P Value")
bt
View(bt)
View(steps)
# Enter only code here.
ggplot(steps , aes(x = StepChange, color = treatment, alpha = 0.9)) +
geom_histogram() +
labs(x="Win Margin",
y = "Proportion",
title="Histogram for average differences in proportion",
subtitle="1000 Samples of Size 5 (Blue) and 100 (Red)") +
xlim(-0.6, 0.6) +
ylim(0,0.1) +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
ggplot(steps , aes(x = StepChange, color = treatment, alpha = 0.9)) +
geom_histogram() +
labs(x="Win Margin",
y = "Proportion",
title="Histogram for average differences in proportion",
subtitle="1000 Samples of Size 5 (Blue) and 100 (Red)") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
ggplot(steps , aes(x = StepChange, color = treatment, alpha = 0.5)) +
geom_histogram() +
labs(x="Win Margin",
y = "Proportion",
title="Histogram for average differences in proportion",
subtitle="1000 Samples of Size 5 (Blue) and 100 (Red)") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
ggplot(steps , aes(x = StepChange,color = treatment, alpha = 0.5)) +
geom_histogram() +
labs(x="Step Change",
y = "Count",
title="Histogram for average differences in proportion",
subtitle="1000 Samples of Size 5 (Blue) and 100 (Red)") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
ggplot(steps , aes(x = StepChange,colour = treatment, alpha = 0.5)) +
geom_histogram() +
labs(x="Step Change",
y = "Count",
title="Histogram for step change",
subtitle="") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
ggplot(steps , aes(x = StepChange,colour = treatment, alpha = 0.5)) +
geom_histogram() +
labs(x="Step Change",
y = "Count",
title="Histogram for step change",
subtitle="")
# Enter only code here.
ggplot(steps , aes(x = StepChange,colour = treatment)) +
geom_histogram() +
labs(x="Step Change",
y = "Count",
title="Histogram for step change",
subtitle="")
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plot <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plot <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
plot + geom_histogram(aes(x = stepc), alpha = 0.2, color ="white")
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plot <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
#plot + geom_histogram(aes(x = stepc), alpha = 0.2, color ="white")
plot
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plot <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
plot + geom_histogram(aes(x = stepc), alpha = 0.2, color ="white")
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plot <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
plot + geom_histogram(aes(x = stepc$StepChange), alpha = 0.2, color ="white")
# Enter only code here.
stept <- steps %>%
filter(treatment == 1)
stepc <- steps %>%
filter(treatment == 0)
plott <- ggplot(stept , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
plotc <- ggplot(stepc , aes(x = StepChange)) +
geom_histogram(alpha = 0.2, color ="white",fill ="indianred") +
labs(x="Step Change",
y = "Count",
title="Histogram for step change") +
theme(plot.title=element_text(size=12, hjust=0),
plot.subtitle=element_text(size=8,hjust=0),
plot.caption= element_text(size=7),
axis.title.x=element_text(size=12,hjust=0.5),
axis.title.y=element_text(size=12,hjust=0.5)) +
theme(legend.position = "none",legend.title = element_blank())
plott
plotc
tw <- load(tw.RData)
tw <- load("tw.RData")
# Enter only code here.
baselinedata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-04-2022", "%d-%m-%Y"), as.Date("30-06-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston")
# Enter only code here.
baselinedata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-04-2022", "%d-%m-%Y"), as.Date("30-06-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston")
# Enter only code here.
baselinedata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-04-2022", "%d-%m-%Y"), as.Date("30-06-2022", "%d-%m-%Y")))
tw <- load("tw.RData")
tw <- load("tw.RData")
tw <- load("tw.RData")
tw <- load("tw.RData")
load("/Users/shreyachaturvedi/Downloads/API209/PS8/tw.RData")
tw <- load("/Users/shreyachaturvedi/Downloads/API209/PS8/tw.RData")
load("/Users/shreyachaturvedi/Downloads/API209/PS8/tw.RData")
# Enter only code here.
baselinedata <- tw %>%
filter(between(lubridate::date(Tracking.BookingCreated), as.Date("01-04-2022", "%d-%m-%Y"), as.Date("30-06-2022", "%d-%m-%Y"))) %>%
filter(PricingLocation == "Houston")
